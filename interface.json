{"swagger":"2.0","info":{"description":"","version":"0.1","title":"zoomway"},"tags":[{"name":"patrol","description":"巡视计划和任务，单次的巡视计划可以视同一个巡视任务。","sortWeight":1}],"schemes":[],"consumes":[],"produces":[],"paths":{"/patrols":{"post":{"tags":["patrol"],"summary":"创建计划","description":"根据token确定创建者,默认为审核者","operationId":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"token","in":"query","description":"创建者点token","required":true,"type":"string","default":"","format":""},{"in":"body","name":"plan","description":"","required":false,"schema":{"type":"cust","format":"json","content":"{\n    \"start\": \"date, 计划起效时间\",\n    \"end\": \"date, 计划结束时间\",\n    \"schedule\": \"string,重复时间描述串【30 9 * * 1】表示每周一9:30分生成一次任务，第1个数分钟 minute[0~59]，第二个数是小时 hour[0~23]，第3数是天 day[1~31]，第4个数是月 month[1~12],第5个数是星期 week[0~7]0 和 7 都是表示星期天。\",\n    \"span\": \"int,巡视任务天数\",\n    \"task\": {\n        \"start\": \"datetime, 任务开始时间\",\n        \"end\": \"datetime, 任务结束时间\",\n        \"executor\": \"array,执行人\",\n        \"type\": \"string, 巡视类型[region|device]\",\n        \"content\": \"array,区域类型是polygon数组，设备类型是设备id数组\",\n        \"inspector\": \"stuffid, 审核者【可选默认为创建者】\"\n    },\n    \"enable\": \"boolean,是否起效【可选默认为true】\"\n}"}}],"responses":{"200":{"description":"","sortWeight":1}},"sortWeight":1,"devStatus":"none","devStatusName":"不显示","showDevStatus":false,"label":"","developer":"","modifyDate":"2017-06-06 16:40:43"}},"/patrols/plans/{planId}":{"get":{"tags":["patrol"],"summary":"获取计划","description":"没有planId选择该公司所有巡视计划","operationId":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"planId","in":"path","description":"查询订单Id","required":false,"type":"string","default":"","format":""},{"name":"creater","in":"query","description":"根据创建者筛选","required":false,"type":"string","default":"","format":""}],"responses":{},"sortWeight":3,"devStatus":"none","devStatusName":"不显示","showDevStatus":false,"label":"","developer":"","modifyDate":"2017-06-06 16:40:56"}},"/patrols/{planId}":{"put":{"tags":["patrol"],"summary":"编辑计划","description":"局部更新，更新提供的属性。","operationId":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"planId","in":"path","description":"","required":false,"type":"string","default":"","format":""},{"in":"body","name":"plan","description":"","required":false,"schema":{"type":"cust","format":"json","content":"{\n    \"start\": \"date, 计划起效时间\",\n    \"end\": \"date, 计划结束时间\",\n    \"schedule\": \"string,重复时间描述串\",\n    \"span\": \"int,巡视任务天数\",\n    \"task\": {\n        \"start\": \"datetime, 任务开始时间\",\n        \"end\": \"datetime, 任务结束时间\",\n        \"executor\": \"array,执行人\",\n        \"type\": \"string, 巡视类型[region|device]\",\n        \"content\": \"array,区域类型是polygon数组，设备类型是设备id数组\"\n    },\n    \"inspector\": \"stuffid, 审核者【可选默认为创建者】\"\n}"}}],"responses":{},"sortWeight":2,"devStatus":"none","devStatusName":"不显示","showDevStatus":false,"label":"","developer":"","modifyDate":"2017-06-06 16:40:50"},"delete":{"tags":["patrol"],"summary":"删除计划","description":"","operationId":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"planId","in":"path","description":"","required":true,"type":"string","default":"","format":""}],"responses":{},"sortWeight":4,"devStatus":"none","devStatusName":"不显示","showDevStatus":false,"label":"","developer":"","modifyDate":"2017-06-06 16:46:41"}}},"definitions":{},"errorCodes":[],"apiEnvs":[{"name":"mock环境","baseUrl":"http://www.sosoapi.com/pass/mock/6025/","sortWeight":2147483647,"mock":true}]}